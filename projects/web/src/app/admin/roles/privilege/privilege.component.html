<nz-card class="ant-card-data-detail m-0"
  [nzTitle]="params.title" [nzExtra]="toolsTpl">
  <ng-template #toolsTpl>
    <nz-space-compact nzSize="small">
      <button type="button" nz-button nzType="primary" (click)="close()">
        <nz-icon nzType="check" /> 确定
      </button>
    </nz-space-compact>
  </ng-template>
  <form nz-form nzLayout="vertical" #privilegeForm="ngForm">
    @for (mp of vm.privileges; track mp.module) {
      <nz-form-item class="mb-2 p-0">
        <nz-form-label class="text-xl font-bold">{{mp.module}}</nz-form-label>
        <nz-form-control class="ps-3!">
          @for (p of mp.privileges; track p.id) {
            <label class="ms-0!" [for]="p.id" nz-checkbox [nzValue]="p.name"
              [nzChecked]="vm.rolePrivileges[p.name]"
              (nzCheckedChange)="togglePrivilege(p.name)">
              {{p.description || p.name}}
            </label>
          }
        </nz-form-control>
      </nz-form-item>
    }
  </form>
</nz-card>
